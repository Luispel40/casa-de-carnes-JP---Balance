@echo offtitle Iniciador de Servidor e NgrokREM --- 1. Define o caminho para a pasta do script e do projeto ---cd /d "%~dp0"echo.echo --- INICIANDO SERVIDOR E TUNNEL NGROK ---echo.REM --- 2. Roda npm run start em um terminal minimizado ---echo [1/4] Iniciando o servidor do projeto com 'npm run start'...REM O comando /c garante que a janela do cmd feche se o npm for interrompidostart "Servidor Local" /min cmd /c "npm run start"REM --- 3. Roda ngrok http 3000 em um terminal minimizado ---echo [2/4] Iniciando o tunnel ngrok na porta 3000...REM O ngrok deve estar no PATH do sistema ou nesta pasta.start "Ngrok Tunnel" /min ngrok http 3000REM --- 4. Aguarda alguns segundos para o servidor subir ---timeout /t 5 /nobreak >nulREM --- 5. Tenta obter o URL público do ngrok via API local (Porta 4040) ---set API_URL=https://www.google.com/search?q=http://127.0.0.1:4040/api/tunnelsset URL_FOUND=echo [3/4] Aguardando o ngrok gerar o link publico...:POLL_NGROKREM Aguarda 2 segundos antes de tentar novamentetimeout /t 2 /nobreak >nulREM Usa PowerShell para fazer a requisição HTTP e extrair o public_urlfor /f "delims=" %%i in ('powershell -Command "try { $response = Invoke-RestMethod -Uri '%API_URL%' -ErrorAction Stop; $url = $response.tunnels[0].public_url; Write-Host $url } catch { Write-Host '' }"') do (set URL_FOUND=%%i)if not "%URL_FOUND%"=="" goto NGROK_SUCCESSREM Se o ngrok ainda não estiver pronto, continua tentandogoto POLL_NGROK:NGROK_SUCCESSecho.echo ===================================================================echo [4/4] URL PUBLICO ENCONTRADO: %URL_FOUND%echo.REM --- 6. Copia o URL para a área de transferência ---echo %URL_FOUND% | clipecho [SUCESSO] O link foi COPIADO para a area de transferencia.REM --- 7. Abre o Chrome ou Edge em modo popup na porta local 3000 (Opcional, baseado no seu script original) ---REM O link ngrok foi copiado, entao abriremos o localhost para testes rapidos.start "" "chrome.exe" --app=http://localhost:3000 --window-size=800,600 --window-position=100,100echo.echo PRONTO! O seu projeto esta online (ngrok) e aberto (localhost).echo ===================================================================REM --- 8. Comando para abrir o próprio script (Se for o que voce queria) ---REM Para abrir o arquivo .bat no bloco de notas para edicao, descomente a linha abaixo:REM notepad "%~f0"pause